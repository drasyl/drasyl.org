<!doctype html><html lang=en-us><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility | drasyl provides secure, software-defined overlay networks, connecting all your devices</title>
<meta content="drasyl is an Overlay Network Framework for Rapid Development of Distributed P2P Applications" name=description><meta content name=keywords><meta name=theme-color content="#005e54"><meta name=author content="Heiko Bornholdt and Kevin Röbert"><meta property="og:url" content="https://drasyl.org/blog/drasyl-0-4-0-released/"><meta property="og:site_name" content="drasyl provides secure, software-defined overlay networks, connecting all your devices"><meta property="og:title" content="drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility"><meta property="og:description" content="Today, we are excited to announce the release of drasyl 0.4.0 with UPD hole punching, message chunking, in-process discovery, static routes, and network bandwidth measurement utility."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-02-27T22:13:00+01:00"><meta property="article:modified_time" content="2021-02-27T22:13:00+01:00"><meta property="article:tag" content="Releases"><meta property="article:tag" content="Cli"><meta property="og:image" content="https://drasyl.org/img/dan-burton-nRW4I8kuyd8-unsplash.jpg"><link href=/img/favicon.png rel=icon><link href=/img/logo192.png rel=apple-touch-icon><link href=/manifest.json rel=manifest><link href=/vendor/aos/aos.css rel=stylesheet><link href=/vendor/bootstrap/css/bootstrap.min.css rel=stylesheet><link href=/vendor/bootstrap-icons/bootstrap-icons.css rel=stylesheet><link href=/vendor/boxicons/css/boxicons.min.css rel=stylesheet><link href=/scss/main.min.e8bc517d86a5c4e5f481979cc92e2316ea45fa1bacf762c748806c1aaf4967c3.css rel=stylesheet><link href=https://drasyl.org/blog/index.xml type=application/rss+xml title="drasyl Blog" rel=alternate></head><body class="blog-details-page single single-blog"><header id=header class="header d-flex align-items-center sticky-top"><div class="container-fluid container-xl position-relative d-flex align-items-center"><a href=index.html class="logo d-flex align-items-center me-auto"><img src=/img/drasyl.svg alt=drasyl class=img-fluid></a><nav id=navmenu class=navmenu><ul><li><a href=https://drasyl.org/>Home</a></li><li><a href=https://drasyl.org/#about>About</a></li><li><a href=https://drasyl.org/#use-cases>Use Cases</a></li><li><a href=https://drasyl.org/#publications>Publications</a></li><li><a href=https://drasyl.org/#team>Team</a></li><li><a href=/blog>Blog</a></li></ul><i class="mobile-nav-toggle d-xl-none bi bi-list"></i></nav><a class=btn-getstarted href=https://docs.drasyl.org/get-started/>Get Started</a></div></header><main class=main><div class=page-title data-aos=fade><div class=container><nav class=breadcrumbs><ol><li><a href=https://drasyl.org/>Home</a></li><li><a href=https://drasyl.org/blog/>Blog</a></li><li class=current>drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility</li></ol></nav><h1>drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility</h1></div></div><div class=container><div class=row><div class=col-lg-8><section id=blog-details class="blog-details section"><div class=container data-aos=fade-up><article class=article><div class=hero-img data-aos=zoom-in><img src=/img/dan-burton-nRW4I8kuyd8-unsplash.jpg alt="drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility" class=img-fluid loading=lazy><div class=meta-overlay><div class=meta-categories><span class=reading-time><i class="bi bi-clock"></i> 3 min read</span></div></div></div><div class=article-content data-aos=fade-up data-aos-delay=100><div class=content-header><h1 class=title>drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility</h1><div class=author-info><div class=author-details><img src=/img/team/hb.jpg alt="Heiko Bornholdt" class=author-img><div class=info><h4>Heiko Bornholdt</h4><span class=role>Senior Research Assistant</span></div></div><div class=post-meta><span class=date><i class="bi bi-calendar3"></i> Feb 27, 2021</span>
<span class=divider>•</span>
<span class=tags><i class="bi bi-tags"></i>
<a href=/tags/releases>releases</a>
,
<a href=/tags/cli>cli</a></span></div></div></div><div class=content><p>Today, we are excited to announce the release of drasyl 0.4.0 with UPD hole punching, message chunking, in-process discovery, static routes, and network bandwidth measurement utility.</p><h3 id=changelog>Changelog</h3><h4 id=added>Added</h4><ul><li>Hole Punching is now used to traverse NATs. This should dramatically increase the proportion of
direct connections between peers.</li><li>Messages that are too large for a single UDP datagram are now automatically split into multiple
datagrams (and re-assembled on the receiving side).</li><li>When changing the network, new port mappings are now automatically created on the new network.</li><li><code>DrasylNode</code>&rsquo;s API has been enhanced with <code>@NotNull</code> and <code>@Nullable</code> annotations.</li><li>Messages that can be delivered within the same JVM are now passed by reference (previously these
messages have been unnecessarily serialized).
<strong>So make sure you either send copies of your objects or it&rsquo;s
fine for other nodes to make changes to that object.</strong></li><li>Static routes to other remote peers can now be defined. This allows discovery to be omitted in
static environments (or test setups).</li><li><strong>Messages with content <code>null</code> are now possible.</strong></li><li><code>perf</code> command has been added to the CLI. This allows you to run performance tests of connections.</li><li>Each node can now have several super peers simultaneously. The fastest super peer will
automatically be used. If one or more super peers fail (temporarily), one of the remaining super
peers will automatically be used. By default, each node will use two of our super peers.</li><li>New examples have been added:
<a href=https://github.com/drasyl/drasyl/tree/master/drasyl-examples/src/main/java/org/drasyl/example>https://github.com/drasyl/drasyl/tree/master/drasyl-examples/src/main/java/org/drasyl/example</a></li><li>Nodes can now be implemented as finite state machines (see our example of the philosopher
problem: <a href=https://github.com/drasyl/drasyl/tree/master/drasyl-examples/src/main/java/org/drasyl/example/diningphilosophers)>https://github.com/drasyl/drasyl/tree/master/drasyl-examples/src/main/java/org/drasyl/example/diningphilosophers)</a>.</li></ul><h4 id=changed>Changed</h4><ul><li>By default, each node now listens on a port in the range 22528 and 65528, which is derived from
its identity. This means that the chance for a port collision is now reduced when
multiple nodes are running on one computer.</li><li>UDP is now used instead of TCP for communication with remote peers.</li><li>The entire protocol for constructing the overlay network has been revised (it&rsquo;s far better now!).</li><li>Messages are now serialized in binary. This is faster and creates smaller messages on the wire.</li><li>If possible, messages are processed using zero-copy.</li><li>Documentation has been revised (Javadoc and/or documentation at <a href=https://docs.java.drasyl.org>https://docs.java.drasyl.org</a>).</li><li>Messages can now be additionally serialized by protobuf or Java. Furthermore, own serializers can
be implemented. Read more at <a href=https://docs.java.drasyl.org>https://docs.java.drasyl.org</a>.</li><li>The third-party portmapper library has been replaced with our own more lightweight
and more resilient implementation.</li><li>All dependencies have been updated to the latest versions.</li></ul><h4 id=fixed>Fixed</h4><ul><li><code>IntraVmDiscovery</code>: Other nodes running within the same JVM that belongs to a different overlay
network are now ignored.</li><li><code>LocalHostDiscovery</code>: Other nodes running on the same local computer that belong to a different
overlay network are now ignored.</li><li>Content of received messages is now better verified before it is deserialized.</li><li>Unchecked exceptions thrown by <code>DrasylNode.onEvent</code> no longer produce ridiculously long error
messages.</li></ul><h3 id=network-bandwidth-measurement-utility>Network Bandwidth Measurement Utility</h3><p>To evaluate the performance of drasyl or specific functions, we added the tool perf to the CLI, which can measure the drasyl network bandwidth between two peers. We were inspired by <a href=https://github.com/esnet/iperf>iperf3</a>, which measures TCP/UDP traffic.</p><hr><p>Photo by <a href=https://unsplash.com/@dan__burton>Dan Burton</a> on <a href=https://unsplash.com/>Unsplash</a></p></div><div class=meta-bottom><div class=share-section><h4>Share Article</h4><div class=social-links><a href="https://x.com/intent/tweet?text=drasyl%200.4.0%20released%20with%20UDP%20Hole%20Punching%2c%20Message%20Chunking%2c%20and%20Bandwidth%20Measurement%20Utility&url=https%3a%2f%2fdrasyl.org%2fblog%2fdrasyl-0-4-0-released%2f" class=twitter target=_blank rel=noopener><i class="bi bi-twitter-x"></i></a>
<a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fdrasyl.org%2fblog%2fdrasyl-0-4-0-released%2f" class=facebook target=_blank rel=noopener><i class="bi bi-facebook"></i></a>
<a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fdrasyl.org%2fblog%2fdrasyl-0-4-0-released%2f" class=linkedin target=_blank rel=noopener><i class="bi bi-linkedin"></i></a>
<a href="https://mastodon.social/share?text=drasyl%200.4.0%20released%20with%20UDP%20Hole%20Punching%2c%20Message%20Chunking%2c%20and%20Bandwidth%20Measurement%20Utility%20https%3a%2f%2fdrasyl.org%2fblog%2fdrasyl-0-4-0-released%2f" class=mastodon target=_blank rel=noopener><i class="bi bi-mastodon"></i></a></div></div></div></div></article></div></section></div><div class="col-lg-4 sidebar"><div class=widgets-container data-aos=fade-up data-aos-delay=200><div class="recent-posts-widget widget-item"><h3 class=widget-title>Recent Posts</h3><div class=post-item><img src=/img/suzanne-d-williams-VMKBFR6r_jg-unsplash.jpg alt="drasyl: From Peer-to-Peer Library to Software-Defined Networking Platform" class=flex-shrink-0><div><h4><a href=/blog/from-p2p-to-sdn/>drasyl: From Peer-to-Peer Library to Software-Defined Networking Platform</a></h4><time datetime=2025-08-10>Aug 10, 2025</time></div></div><div class=post-item><img src=/img/derailed-drips-Q5cT8yw7V3Q-unsplash.jpg alt="Announcing drasyl 0.12.0: A New Core, Rewritten in Rust" class=flex-shrink-0><div><h4><a href=/blog/drasyl-0-12-released/>Announcing drasyl 0.12.0: A New Core, Rewritten in Rust</a></h4><time datetime=2025-06-10>Jun 10, 2025</time></div></div><div class=post-item><img src=/img/suad-kamardeen-ItFTJoh1A8c-unsplash.jpg alt="Software-Defined Overlay Networking for the Deployment of Distributed Applications at the Edge" class=flex-shrink-0><div><h4><a href=/blog/drasyl-dissertation-published/>Software-Defined Overlay Networking for the Deployment of Distributed Applications at the Edge</a></h4><time datetime=2025-02-04>Feb 4, 2025</time></div></div><div class=post-item><img src=/img/anton-filatov-O_5SJuSOxZA-unsplash.jpg alt="drasyl 0.11.0 released with performance improvements, fixes, and dynamic overlay constructon" class=flex-shrink-0><div><h4><a href=/blog/drasyl-0-11-released/>drasyl 0.11.0 released with performance improvements, fixes, and dynamic overlay constructon</a></h4><time datetime=2025-01-04>Jan 4, 2025</time></div></div><div class=post-item><img src=/img/nasa-Q1p7bh3SHj8-unsplash.jpg alt="drasyl 0.10.0 released with performance improvements, fixes, and globally distributed super peers" class=flex-shrink-0><div><h4><a href=/blog/drasyl-0-10-released/>drasyl 0.10.0 released with performance improvements, fixes, and globally distributed super peers</a></h4><time datetime=2023-01-31>Jan 31, 2023</time></div></div></div><div class="tags-widget widget-item"><h3 class=widget-title>Tags</h3><ul><li><a href=/tags/c/>C</a></li><li><a href=/tags/cli/>Cli</a></li><li><a href=/tags/java/>Java</a></li><li><a href=/tags/library/>Library</a></li><li><a href=/tags/native/>Native</a></li><li><a href=/tags/p2p/>P2P</a></li><li><a href=/tags/publication/>Publication</a></li><li><a href=/tags/python/>Python</a></li><li><a href=/tags/releases/>Releases</a></li><li><a href=/tags/research/>Research</a></li><li><a href=/tags/rust/>Rust</a></li><li><a href=/tags/sdn/>SDN</a></li><li><a href=/tags/software/>Software</a></li><li><a href=/tags/teaching/>Teaching</a></li><li><a href=/tags/theses/>Theses</a></li><li><a href=/tags/use-case/>Use Case</a></li></ul></div></div></div></div></div></main><footer id=footer class="footer dark-background"><div class="container footer-top"><div class=container><div class=row><div class="col-lg-3 col-md-6 footer-links"><h4>Useful Links</h4><ul><li><i class="bx bx-chevron-right"></i> <a href=https://github.com/drasyl/drasyl-rs/>GitHub Repository</a></li><li><i class="bx bx-chevron-right"></i> <a href=https://hub.docker.com/r/drasyl/drasyl>Docker Images</a></li><li><i class="bx bx-chevron-right"></i> <a href=https://status.drasyl.org/>Statuspage</a></li></ul></div><div class="col-lg-3 col-md-6 footer-links"><h4>Legal</h4><ul><li><i class="bx bx-chevron-right"></i> <a href=/imprint>Imprint</a></li></ul></div><div class="col-lg-3 col-md-6"></div><div class="col-lg-3 col-md-12"><h4>Follow Us</h4><p>Join our community and stay updated with the latest drasyl developments</p><div class="social-links d-flex"><a href=/discord><i class="bi bi-discord"></i></a>
<a href=https://mastodon.world/@drasyl rel=me><i class="bi bi-mastodon"></i></a></div></div></div></div></div><div class="container copyright text-center mt-4"><p>&copy; 2020-2025 <strong class="px-1 sitename">Heiko Bornholdt and Kevin Röbert</strong> <span>All Rights Reserved.</span></p></div></footer><a href=# id=scroll-top class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
<script src=/vendor/bootstrap/js/bootstrap.bundle.min.js></script><script src=/vendor/aos/aos.js></script><script src=/js/main.min.985b78970bfd82de526a9c7546c24fcb0ae6b6e2c9624ef79446842c3487ba50.js></script></body></html>