<!doctype html><html lang=en-us><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><title>drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility | drasyl - The Overlay Network Framework for Rapid Development of Distributed P2P Applications</title><meta content="drasyl is an Overlay Network Framework for Rapid Development of Distributed P2P Applications" name=description><meta content name=keywords><meta name=theme-color content="#005e54"><meta name=author content="Heiko Bornholdt and Kevin Röbert"><meta property="og:image" content="https://drasyl.org/img/drasyl-og.png"><meta property="og:title" content="drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility | drasyl - The Overlay Network Framework for Rapid Development of Distributed P2P Applications"><link href=/img/favicon.png rel=icon><link href=/img/logo192.png rel=apple-touch-icon><link href=/manifest.json rel=manifest><link href=/vendor/aos/aos.css rel=stylesheet><link href=/vendor/bootstrap/css/bootstrap.min.css rel=stylesheet><link href=/vendor/bootstrap-icons/bootstrap-icons.css rel=stylesheet><link href=/vendor/boxicons/css/boxicons.min.css rel=stylesheet><link href=/scss/style.min.15173d321c02cc7933b5f8ce140659398435c6a1cd90589cdabb565f60ff18cf.css rel=stylesheet></head><body class="single single-blog"><header id=header class="fixed-top header-inner-pages"><div class="container d-flex align-items-center unselectable"><a href=index.html class="logo me-auto"><img src=/img/drasyl.svg alt=drasyl class=img-fluid></a><nav id=navbar class=navbar><ul><li><a class="nav-link scrollto active" href=https://drasyl.org/>Home</a></li><li><a class=nav-link href=/blog>Blog</a></li><li><a class=nav-link href=https://docs.drasyl.org/>Documentation</a></li><li><a class=nav-link href=https://api.drasyl.org/>Javadoc</a></li><li><a class=nav-link href=https://github.com/drasyl-overlay/drasyl/blob/master/CONTRIBUTING.md>Contribution</a></li><li><a class=nav-link href=https://github.com/drasyl-overlay/drasyl/blob/master/CHANGELOG.md>Changelog</a></li><li><a class=getstarted href=https://docs.drasyl.org/getting-started/>Get Started</a></li></ul><i class="bi bi-list mobile-nav-toggle"></i></nav></div></header><main id=main><section id=breadcrumbs class=breadcrumbs><div class=container><div class=row><div class="col-xl-8 col-lg-12"><ol><li><a href=https://drasyl.org/>Home</a></li><li><a href=https://drasyl.org/blog>Blog</a></li><li></li></ol><h2>drasyl 0.4.0 released with UDP Hole Punching, Message Chunking, and Bandwidth Measurement Utility</h2><div>On February 27, 2021
in <a href=https://drasyl.org/tags/releases>Releases</a>, <a href=https://drasyl.org/tags/cli>CLI</a></div></div></div></div></section><section class=inner-page><div class=container><div class=row><div class="col-xl-8 col-lg-12"><p><img src=/img/dan-burton-nRW4I8kuyd8-unsplash.jpg alt="person holding fist to camera"></p><p>Today, we are excited to announce the release of drasyl 0.4.0 with UPD hole punching, message chunking, in-process discovery, static routes, and network bandwidth measurement utility.</p><h3 id=changelog>Changelog</h3><h4 id=added>Added</h4><ul><li>Hole Punching is now used to traverse NATs. This should dramatically increase the proportion of
direct connections between peers.</li><li>Messages that are too large for a single UDP datagram are now automatically split into multiple
datagrams (and re-assembled on the receiving side).</li><li>When changing the network, new port mappings are now automatically created on the new network.</li><li><code>DrasylNode</code>&rsquo;s API has been enhanced with <code>@NotNull</code> and <code>@Nullable</code> annotations.</li><li>Messages that can be delivered within the same JVM are now passed by reference (previously these
messages have been unnecessarily serialized).
<strong>So make sure you either send copies of your objects or it&rsquo;s
fine for other nodes to make changes to that object.</strong></li><li>Static routes to other remote peers can now be defined. This allows discovery to be omitted in
static environments (or test setups).</li><li><strong>Messages with content <code>null</code> are now possible.</strong></li><li><code>perf</code> command has been added to the CLI. This allows you to run performance tests of connections.</li><li>Each node can now have several super peers simultaneously. The fastest super peer will
automatically be used. If one or more super peers fail (temporarily), one of the remaining super
peers will automatically be used. By default, each node will use two of our super peers.</li><li>New examples have been added:
<a href=https://github.com/drasyl-overlay/drasyl/tree/master/drasyl-examples/src/main/java/org/drasyl/example>https://github.com/drasyl-overlay/drasyl/tree/master/drasyl-examples/src/main/java/org/drasyl/example</a></li><li>Nodes can now be implemented as finite state machines (see our example of the philosopher
problem: <a href=https://github.com/drasyl-overlay/drasyl/tree/master/drasyl-examples/src/main/java/org/drasyl/example/diningphilosophers)>https://github.com/drasyl-overlay/drasyl/tree/master/drasyl-examples/src/main/java/org/drasyl/example/diningphilosophers)</a>.</li></ul><h4 id=changed>Changed</h4><ul><li>By default, each node now listens on a port in the range 22528 and 65528, which is derived from
its identity. This means that the chance for a port collision is now reduced when
multiple nodes are running on one computer.</li><li>UDP is now used instead of TCP for communication with remote peers.</li><li>The entire protocol for constructing the overlay network has been revised (it&rsquo;s far better now!).</li><li>Messages are now serialized in binary. This is faster and creates smaller messages on the wire.</li><li>If possible, messages are processed using zero-copy.</li><li>Documentation has been revised (Javadoc and/or documentation at <a href=https://docs.drasyl.org>https://docs.drasyl.org</a>).</li><li>Messages can now be additionally serialized by protobuf or Java. Furthermore, own serializers can
be implemented. Read more at <a href=https://docs.drasyl.org>https://docs.drasyl.org</a>.</li><li>The third-party portmapper library has been replaced with our own more lightweight
and more resilient implementation.</li><li>All dependencies have been updated to the latest versions.</li></ul><h4 id=fixed>Fixed</h4><ul><li><code>IntraVmDiscovery</code>: Other nodes running within the same JVM that belongs to a different overlay
network are now ignored.</li><li><code>LocalHostDiscovery</code>: Other nodes running on the same local computer that belong to a different
overlay network are now ignored.</li><li>Content of received messages is now better verified before it is deserialized.</li><li>Unchecked exceptions thrown by <code>DrasylNode.onEvent</code> no longer produce ridiculously long error
messages.</li></ul><h3 id=network-bandwidth-measurement-utility>Network Bandwidth Measurement Utility</h3><p>To evaluate the performance of drasyl or specific functions, we added the tool perf to the CLI, which can measure the drasyl network bandwidth between two peers. We were inspired by <a href=https://github.com/esnet/iperf>iperf3</a>, which measures TCP/UDP traffic.</p><hr><p>Photo by <a href=https://unsplash.com/@dan__burton>Dan Burton</a> on <a href=https://unsplash.com/>Unsplash</a></p><div style=text-align:center;padding-top:40px><a href=https://drasyl.org/blog>← Back to index</a></div></div></div></div></section></main><footer id=footer><div class=footer-top style=background:#f3f3f3><div class=container><div class=row><div class="col-lg-3 col-md-6 footer-links"><h4>Useful Links</h4><ul><li><i class="bx bx-chevron-right"></i> <a href=https://github.com/drasyl-overlay/drasyl/>GitHub Repository</a></li><li><i class="bx bx-chevron-right"></i> <a href=https://git.informatik.uni-hamburg.de/sane-public/drasyl>GitLab Repository</a></li><li><i class="bx bx-chevron-right"></i> <a href=https://hub.docker.com/r/drasyl/drasyl>Docker Images</a></li><li><i class="bx bx-chevron-right"></i> <a href=https://discord.gg/2tcZPy7BCu>Discord</a></li></ul></div></div></div></div><div class="container footer-bottom clearfix"><div class=copyright>&copy; 2020-2022
<strong><span>Heiko Bornholdt and Kevin Röbert</span></strong>. All Rights Reserved</div><div class=credits><a href=/imprint/>Imprint</a></div></div></footer><a href=# class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
<script src=/vendor/aos/aos.js></script>
<script src=/vendor/bootstrap/js/bootstrap.bundle.min.js></script>
<script src=/vendor/particles/particles.min.js></script>
<script src=/js/main.min.84169354ab432ead0f853fba711e84d138e2c9f7ccc3741d9c94987cb7f2e17b.js></script>
<script src=/js/particles.min.80e008ad2d7a11be7b712a6003a336ff3cba7b5c643bbcd1c8d2d92f12113b9d.js></script></body></html>